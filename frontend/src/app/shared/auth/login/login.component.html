<div
  class="login-component"
  [class.not-selected]="!isSelected()"
  [class.selected]="isSelected()"
  (click)="selectThisUser()"
>
  @if (!isSelected()) {
  <!-- Vue miniature dans la liste -->
  <div class="user-avatar">
    {{ username().charAt(0).toUpperCase() }}
  </div>
  <span class="username-label">{{ username() }}</span>
  } @else {
  <!-- Vue agrandie au centre -->
  <div class="user-avatar-large">
    {{ username().charAt(0).toUpperCase() }}
  </div>
  <label class="username-label">{{ username() }}</label>

  <div class="login-container">
    <div class="login-content">
      <form [formGroup]="form" (submit)="submit()">
        <input
          class="password-input"
          type="password"
          formControlName="password"
          placeholder="Password"
          autocomplete="current-password"
        />

        @if (form.get('password')?.invalid && form.get('password')?.touched) {
        <p class="error-text">Password is required</p>
        }

        <button class="submit-button" type="submit" [disabled]="form.invalid">
          @if (isLoading()) {
          <mat-icon>autorenew</mat-icon>
          } @else {
          <mat-icon>arrow_forward</mat-icon>
          }
        </button>
      </form>
    </div>

    @if (error()) {
    <div class="error-footer">
      <div class="error-text">{{ error() }}</div>
    </div>
    }
  </div>
  <button class="cancel-button" type="button" (click)="onCancel($event)"></button>
  }
</div>
